!function(t,e){var s;"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof module&&module.exports?(s="undefined"!=typeof window&&void 0!==window.moment?window.moment:require("moment"),module.exports=e(s)):t.Lightpick=e(t.moment)}(this,function(u){"use strict";function f(t){return'<div class="lightpick__toolbar"><button type="button" class="lightpick__previous-action">'+t.locale.buttons.prev+'</button><button type="button" class="lightpick__next-action">'+t.locale.buttons.next+"</button>"+(t.autoclose||t.inline?"":'<button type="button" class="lightpick__close-action">'+t.locale.buttons.close+"</button>")+"</div>"}function _(t,e,s){return new Date(1970,0,e).toLocaleString(t.lang,{weekday:s?"short":"long"})}function m(t,e,s,i){if(s)return"<div></div>";var a,e=u(e),n=u(e).subtract(1,"month"),o=u(e).add(1,"month"),l={time:u(e).valueOf(),className:["lightpick__day","is-available"]};if(i instanceof Array||"[object Array]"===Object.prototype.toString.call(i)?(i=i.filter(function(t){return 0<=["lightpick__day","is-available","is-previous-month","is-next-month"].indexOf(t)}),l.className=l.className.concat(i)):l.className.push(i),t.disableDates)for(var r,d,c=0;c<t.disableDates.length;c++){t.disableDates[c]instanceof Array||"[object Array]"===Object.prototype.toString.call(t.disableDates[c])?(r=u(t.disableDates[c][0]),d=u(t.disableDates[c][1]),r.isValid()&&d.isValid()&&e.isBetween(r,d,"day","[]")&&l.className.push("is-disabled")):u(t.disableDates[c]).isValid()&&u(t.disableDates[c]).isSame(e,"day")&&l.className.push("is-disabled"),0<=l.className.indexOf("is-disabled")&&(t.locale.tooltipOnDisabled&&(!t.startDate||e.isAfter(t.startDate)||t.startDate&&t.endDate)&&l.className.push("disabled-tooltip"),0<=l.className.indexOf("is-start-date")?(this.setStartDate(null),this.setEndDate(null)):0<=l.className.indexOf("is-end-date")&&this.setEndDate(null))}t.minDays&&t.startDate&&!t.endDate&&e.isBetween(u(t.startDate).subtract(t.minDays-1,"day"),u(t.startDate).add(t.minDays-1,"day"),"day")&&(l.className.push("is-disabled"),t.selectForward&&e.isSameOrAfter(t.startDate)&&(l.className.push("is-forward-selected"),l.className.push("is-in-range"))),t.maxDays&&t.startDate&&!t.endDate&&(e.isSameOrBefore(u(t.startDate).subtract(t.maxDays,"day"),"day")||e.isSameOrAfter(u(t.startDate).add(t.maxDays,"day"),"day"))&&l.className.push("is-disabled"),t.repick&&(t.minDays||t.maxDays)&&t.startDate&&t.endDate&&(a=u(t.repickTrigger==t.field?t.endDate:t.startDate),t.minDays&&e.isBetween(u(a).subtract(t.minDays-1,"day"),u(a).add(t.minDays-1,"day"),"day")&&l.className.push("is-disabled"),t.maxDays&&(e.isSameOrBefore(u(a).subtract(t.maxDays,"day"),"day")||e.isSameOrAfter(u(a).add(t.maxDays,"day"),"day"))&&l.className.push("is-disabled")),e.isSame(new Date,"day")&&l.className.push("is-today"),e.isSame(t.startDate,"day")&&l.className.push("is-start-date"),e.isSame(t.endDate,"day")&&l.className.push("is-end-date"),t.startDate&&t.endDate&&e.isBetween(t.startDate,t.endDate,"day","[]")&&l.className.push("is-in-range"),u().isSame(e,"month")||(n.isSame(e,"month")?l.className.push("is-previous-month"):o.isSame(e,"month")&&l.className.push("is-next-month")),t.minDate&&e.isBefore(t.minDate,"day")&&l.className.push("is-disabled"),t.maxDate&&e.isAfter(t.maxDate,"day")&&l.className.push("is-disabled"),t.selectForward&&!t.singleDate&&t.startDate&&!t.endDate&&e.isBefore(t.startDate,"day")&&l.className.push("is-disabled"),t.selectBackward&&!t.singleDate&&t.startDate&&!t.endDate&&e.isAfter(t.startDate,"day")&&l.className.push("is-disabled"),!t.disableWeekends||6!=e.isoWeekday()&&7!=e.isoWeekday()||l.className.push("is-disabled"),l.className=l.className.filter(function(t,e,s){return s.indexOf(t)===e}),0<=l.className.indexOf("is-disabled")&&0<=l.className.indexOf("is-available")&&l.className.splice(l.className.indexOf("is-available"),1);var h=D.createElement("div");return h.className=l.className.join(" "),h.innerHTML=e.get("date"),h.setAttribute("data-time",l.time),h.outerHTML}function e(t,e){for(var s="",i=u(e.calendar[0]),a=0;a<e.numberOfMonths;a++){var n=u(i);s+='<section class="lightpick__month">',s+='<header class="lightpick__month-title-bar">',s+='<div class="lightpick__month-title">'+function(t,e){var s=u(t);if(e.dropdowns&&e.dropdowns.months){for(var i=D.createElement("select"),a=0;a<12;a++){s.set("month",a);var n=D.createElement("option");n.value=s.toDate().getMonth(),n.text=s.toDate().toLocaleString(e.lang,{month:"long"}),a===t.toDate().getMonth()&&n.setAttribute("selected","selected"),i.appendChild(n)}i.dir="rtl"}else{(i=D.createElement("span")).innerHTML=s.toDate().toLocaleString(e.lang,{month:"long"})}return i.className="lightpick__select lightpick__select-months",i.outerHTML}(n,e)+function(t,e){var s=u(t),i=D.createElement("select"),a=e.dropdowns&&e.dropdowns.years?e.dropdowns.years:null,n=a&&a.min?a.min:1900,o=a&&a.max?a.max:Number.parseInt(u().format("YYYY"));Number.parseInt(t.format("YYYY"))<n&&(n=Number.parseInt(t.format("YYYY"))),Number.parseInt(t.format("YYYY"))>o&&(o=Number.parseInt(t.format("YYYY")));for(var l=n;l<=o;l++){s.set("year",l);var r=D.createElement("option");r.value=s.toDate().getFullYear(),r.text=s.toDate().getFullYear(),l===t.toDate().getFullYear()&&r.setAttribute("selected","selected"),i.appendChild(r)}return i.className="lightpick__select lightpick__select-years",e.dropdowns&&e.dropdowns.years||(i.disabled=!0),i.outerHTML}(n,e)+"</div>",1===e.numberOfMonths&&(s+=f(e)),s+="</header>",s+='<div class="lightpick__days-of-the-week">';for(var o=e.firstDay+4;o<7+e.firstDay+4;++o)s+='<div class="lightpick__day-of-the-week" title="'+_(e,o)+'">'+_(e,o,!0)+"</div>";if(s+="</div>",s+='<div class="lightpick__days">',n.isoWeekday()!==e.firstDay)for(var l=0<n.isoWeekday()-e.firstDay?n.isoWeekday()-e.firstDay:n.isoWeekday(),r=u(n).subtract(l,"day"),d=r.daysInMonth(),c=r.get("date");c<=d;c++)s+=m(e,r,0<a,"is-previous-month"),r.add(1,"day");for(d=n.daysInMonth(),c=(new Date,0);c<d;c++)s+=m(e,n),n.add(1,"day");var h=u(n),p=7-h.isoWeekday()+e.firstDay;if(p<7)for(c=h.get("date");c<=p;c++)s+=m(e,h,a<e.numberOfMonths-1,"is-next-month"),h.add(1,"day");s+="</div>",s+="</section>",i.add(1,"month")}e.calendar[1]=u(i),t.querySelector(".lightpick__months").innerHTML=s}function l(t,e){var s=t.querySelectorAll(".lightpick__day");[].forEach.call(s,function(t){t.outerHTML=m(e,parseInt(t.getAttribute("data-time")),!1,t.className.split(" "))}),a(t,e)}function t(t){var d=this,i=d.config(t);d.el=D.createElement("section"),d.el.className="lightpick lightpick--"+i.numberOfColumns+"-columns is-hidden",i.inline&&(d.el.className+=" lightpick--inlined");var e='<div class="lightpick__inner">'+(1<i.numberOfMonths?f(i):"")+'<div class="lightpick__months"></div><div class="lightpick__tooltip" style="visibility: hidden"></div>';i.footer&&(e+='<div class="lightpick__footer">',!0===i.footer?(e+='<button type="button" class="lightpick__reset-action">'+i.locale.buttons.reset+"</button>",e+='<div class="lightpick__footer-message"></div>',e+='<button type="button" class="lightpick__apply-action">'+i.locale.buttons.apply+"</button>"):e+=i.footer,e+="</div>"),e+="</div>",d.el.innerHTML=e,i.parentEl instanceof Node?i.parentEl.appendChild(d.el):"body"===i.parentEl&&i.inline?i.field.parentNode.appendChild(d.el):D.querySelector(i.parentEl).appendChild(d.el),d._onMouseDown=function(t){if(d.isShowing){var e=(t=t||window.event).target||t.srcElement;if(e){t.stopPropagation(),e.classList.contains("lightpick__select")||t.preventDefault();var s=d._opts;if(e.classList.contains("lightpick__day")&&e.classList.contains("is-available")){var i,a=u(parseInt(e.getAttribute("data-time")));if(!s.disabledDatesInRange&&s.disableDates&&s.startDate){var n=a.isAfter(s.startDate)?u(s.startDate):u(a),o=a.isAfter(s.startDate)?u(a):u(s.startDate);if(s.disableDates.filter(function(t){if(t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)){var e=u(t[0]),s=u(t[1]);return e.isValid()&&s.isValid()&&(e.isBetween(n,o,"day","[]")||s.isBetween(n,o,"day","[]"))}return u(t).isBetween(n,o,"day","[]")}).length)return d.setStartDate(null),d.setEndDate(null),e.dispatchEvent(new Event("mousedown")),d.el.querySelector(".lightpick__tooltip").style.visibility="hidden",void l(d.el,s)}s.singleDate||!s.startDate&&!s.endDate||s.startDate&&s.endDate?s.repick&&s.startDate&&s.endDate?(s.repickTrigger===s.field?(d.setStartDate(a),e.classList.add("is-start-date")):(d.setEndDate(a),e.classList.add("is-end-date")),s.startDate.isAfter(s.endDate)&&d.swapDate(),s.autoclose&&setTimeout(function(){d.hide()},100)):(d.setStartDate(a),d.setEndDate(null),e.classList.add("is-start-date"),s.singleDate&&s.autoclose?setTimeout(function(){d.hide()},100):s.singleDate&&!s.inline||l(d.el,s)):s.startDate&&!s.endDate&&(d.setEndDate(a),s.startDate.isAfter(s.endDate)&&d.swapDate(),e.classList.add("is-end-date"),s.autoclose?setTimeout(function(){d.hide()},100):l(d.el,s)),s.disabledDatesInRange||0===d.el.querySelectorAll(".lightpick__day.is-available").length&&(d.setStartDate(null),l(d.el,s),s.footer&&("function"==typeof d._opts.onError?d._opts.onError.call(d,"Invalid range"):(i=d.el.querySelector(".lightpick__footer-message"))&&(i.innerHTML=s.locale.not_allowed_range,setTimeout(function(){i.innerHTML=""},3e3))))}else e.classList.contains("lightpick__previous-action")?d.prevMonth():e.classList.contains("lightpick__next-action")?d.nextMonth():e.classList.contains("lightpick__close-action")||e.classList.contains("lightpick__apply-action")?d.hide():e.classList.contains("lightpick__reset-action")&&d.reset()}}},d._onMouseEnter=function(t){if(d.isShowing){var e=(t=t||window.event).target||t.srcElement;if(e){var s=d._opts;if(e.classList.contains("lightpick__day")&&e.classList.contains("disabled-tooltip")&&s.locale.tooltipOnDisabled)d.showTooltip(e,s.locale.tooltipOnDisabled);else if(d.hideTooltip(),!s.singleDate&&(s.startDate||s.endDate)&&(e.classList.contains("lightpick__day")||e.classList.contains("is-available"))&&(s.startDate&&!s.endDate||s.repick)){var i=u(parseInt(e.getAttribute("data-time")));if(!i.isValid())return;var a,n=s.startDate&&!s.endDate||s.repick&&s.repickTrigger===s.secondField?s.startDate:s.endDate,o=d.el.querySelectorAll(".lightpick__day");[].forEach.call(o,function(t){var e=u(parseInt(t.getAttribute("data-time")));t.classList.remove("is-flipped"),e.isValid()&&e.isSameOrAfter(n,"day")&&e.isSameOrBefore(i,"day")?(t.classList.add("is-in-range"),s.repickTrigger===s.field&&e.isSameOrAfter(s.endDate)&&t.classList.add("is-flipped")):e.isValid()&&e.isSameOrAfter(i,"day")&&e.isSameOrBefore(n,"day")?(t.classList.add("is-in-range"),(s.startDate&&!s.endDate||s.repickTrigger===s.secondField)&&e.isSameOrBefore(s.startDate)&&t.classList.add("is-flipped")):t.classList.remove("is-in-range"),s.startDate&&s.endDate&&s.repick&&s.repickTrigger===s.field?t.classList.remove("is-start-date"):t.classList.remove("is-end-date")}),s.hoveringTooltip&&(o=Math.abs(i.isAfter(n)?i.diff(n,"day"):n.diff(i,"day")),s.tooltipNights||(o+=1),d.el.querySelector(".lightpick__tooltip"),0<o&&!e.classList.contains("is-disabled")?(a="","function"==typeof s.locale.pluralize&&(a=s.locale.pluralize.call(d,o,s.locale.tooltip)),d.showTooltip(e,o+" "+a)):d.hideTooltip()),s.startDate&&s.endDate&&s.repick&&s.repickTrigger===s.field?e.classList.add("is-start-date"):e.classList.add("is-end-date")}}}},d._onChange=function(t){var e=(t=t||window.event).target||t.srcElement;e&&(e.classList.contains("lightpick__select-months")?d.gotoMonth(e.value):e.classList.contains("lightpick__select-years")&&d.gotoYear(e.value))},d._onInputChange=function(t){t.target||t.srcElement;d._opts.singleDate&&(d._opts.autoclose||d.gotoDate(i.field.value)),d.syncFields(),d.isShowing||d.show()},d._onInputFocus=function(t){var e=t.target||t.srcElement;d.isShowing||D.activeElement.blur(),d.show(e)},d._onInputClick=function(t){var e=t.target||t.srcElement;d.show(e)},d._onClick=function(t){var e=(t=t||window.event).target||t.srcElement,s=e;if(e){do{if(s.classList&&s.classList.contains("lightpick")||s===i.field||i.secondField&&s===i.secondField)return}while(s=s.parentNode);d.isShowing&&i.hideOnBodyClick&&e!==i.field&&s!==i.field&&d.hide()}},d.showTooltip=function(t,e){var s=d.el.querySelector(".lightpick__tooltip"),i=d.el.classList.contains("lightpick--inlined"),a=t.getBoundingClientRect(),n=i?d.el.parentNode.getBoundingClientRect():d.el.getBoundingClientRect(),o=a.left-n.left+a.width/2,l=a.top-n.top;s.style.visibility="visible",s.textContent=e;var r=s.getBoundingClientRect();l-=r.height,o-=r.width/2,setTimeout(function(){s.style.top=l+"px",s.style.left=o+"px"},10)},d.hideTooltip=function(){d.el.querySelector(".lightpick__tooltip").style.visibility="hidden"},d.el.addEventListener("mousedown",d._onMouseDown,!0),d.el.addEventListener("mouseenter",d._onMouseEnter,!0),d.el.addEventListener("touchend",d._onMouseDown,!0),d.el.addEventListener("change",d._onChange,!0),i.inline?d.show():d.hide(),i.field.addEventListener("change",d._onInputChange),i.field.addEventListener("click",d._onInputClick),i.field.addEventListener("focus",d._onInputFocus),i.secondField&&(i.secondField.addEventListener("change",d._onInputChange),i.secondField.addEventListener("click",d._onInputClick),i.secondField.addEventListener("focus",d._onInputFocus))}var D=window.document,i={field:null,secondField:null,firstDay:1,parentEl:"body",lang:"auto",format:"DD/MM/YYYY",separator:" - ",numberOfMonths:1,numberOfColumns:2,singleDate:!0,autoclose:!0,repick:!1,startDate:null,endDate:null,minDate:null,maxDate:null,disableDates:null,selectForward:!1,selectBackward:!1,minDays:null,maxDays:null,hoveringTooltip:!0,hideOnBodyClick:!0,footer:!1,disabledDatesInRange:!0,tooltipNights:!1,orientation:"auto",disableWeekends:!1,inline:!1,dropdowns:{years:{min:1900,max:null},months:!0},locale:{buttons:{prev:"&leftarrow;",next:"&rightarrow;",close:"&times;",reset:"Reset",apply:"Apply"},tooltip:{one:"day",other:"days"},tooltipOnDisabled:null,pluralize:function(t,e){return"string"==typeof t&&(t=parseInt(t,10)),1===t&&"one"in e?e.one:"other"in e?e.other:""}},onSelect:null,onOpen:null,onClose:null,onError:null},a=function(t,s){var e,i,a,n;!s.disabledDatesInRange&&s.startDate&&!s.endDate&&s.disableDates&&(e=t.querySelectorAll(".lightpick__day"),i=s.disableDates.map(function(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)?t[0]:t}),a=u(i.filter(function(t){return u(t).isBefore(s.startDate)}).sort(function(t,e){return u(e).isAfter(u(t))})[0]),n=u(i.filter(function(t){return u(t).isAfter(s.startDate)}).sort(function(t,e){return u(t).isAfter(u(e))})[0]),[].forEach.call(e,function(t){var e=u(parseInt(t.getAttribute("data-time")));(a&&e.isBefore(a)&&s.startDate.isAfter(a)||n&&e.isAfter(n)&&n.isAfter(s.startDate))&&(t.classList.remove("is-available"),t.classList.add("is-disabled"))}))};return t.prototype={config:function(t){var e,s=Object.assign({},i,t);return s.field=s.field&&s.field.nodeName?s.field:null,s.calendar=[u().set("date",1)],1===s.numberOfMonths&&1<s.numberOfColumns&&(s.numberOfColumns=1),s.minDate=s.minDate&&u(s.minDate).isValid()?u(s.minDate):null,s.maxDate=s.maxDate&&u(s.maxDate).isValid()?u(s.maxDate):null,"auto"===s.lang&&(e=navigator.language||navigator.userLanguage,s.lang=e||"en-US"),s.secondField&&s.singleDate&&(s.singleDate=!1),s.hoveringTooltip&&s.singleDate&&(s.hoveringTooltip=!1),"[object Object]"===Object.prototype.toString.call(t.locale)&&(s.locale=Object.assign({},i.locale,t.locale)),window.innerWidth<480&&s.numberOfMonths,s.repick&&!s.secondField&&(s.repick=!1),s.inline&&(s.autoclose=!1,s.hideOnBodyClick=!1),this._opts=Object.assign({},s),this.syncFields(),this.setStartDate(this._opts.startDate,!0),this.setEndDate(this._opts.endDate,!0),this._opts},syncFields:function(){var t;this._opts.singleDate||this._opts.secondField?(u(this._opts.field.value,this._opts.format).isValid()&&(this._opts.startDate=u(this._opts.field.value,this._opts.format)),this._opts.secondField&&u(this._opts.secondField.value,this._opts.format).isValid()&&(this._opts.endDate=u(this._opts.secondField.value,this._opts.format))):2===(t=this._opts.field.value.split(this._opts.separator)).length&&(u(t[0],this._opts.format).isValid()&&(this._opts.startDate=u(t[0],this._opts.format)),u(t[1],this._opts.format).isValid()&&(this._opts.endDate=u(t[1],this._opts.format)))},swapDate:function(){var t=u(this._opts.startDate);this.setDateRange(this._opts.endDate,t)},gotoToday:function(){this.gotoDate(new Date)},gotoDate:function(t){(t=u(t)).isValid()||(t=u()),t.set("date",1),this._opts.calendar=[u(t)],e(this.el,this._opts)},gotoMonth:function(t){isNaN(t)||(this._opts.calendar[0].set("month",t),e(this.el,this._opts))},gotoYear:function(t){isNaN(t)||(this._opts.calendar[0].set("year",t),e(this.el,this._opts))},prevMonth:function(){this._opts.calendar[0]=u(this._opts.calendar[0]).subtract(this._opts.numberOfMonths,"month"),e(this.el,this._opts),a(this.el,this._opts)},nextMonth:function(){this._opts.calendar[0]=u(this._opts.calendar[1]),e(this.el,this._opts),a(this.el,this._opts)},updatePosition:function(){var t,e,s,i,a;this.el.classList.contains("lightpick--inlined")||(this.el.classList.remove("is-hidden"),t=this._opts.field.getBoundingClientRect(),e=this.el.getBoundingClientRect(),"auto"!=(s=this._opts.orientation.split(" "))[a=i=0]&&/top|bottom/.test(s[0])?(i=t[s[0]]+window.pageYOffset,"top"==s[0]&&(i-=e.height)):i=t.bottom+e.height>window.innerHeight&&t.top+window.scrollY>e.height?t.top+window.pageYOffset-e.height:t.bottom+window.pageYOffset,/left|right/.test(s[0])||s[1]&&"auto"!=s[1]&&/left|right/.test(s[1])?(a=/left|right/.test(s[0])?t[s[0]]+window.pageXOffset:t[s[1]]+window.pageXOffset,"right"!=s[0]&&"right"!=s[1]||(a-=e.width)):a=t.left+e.width>window.innerWidth?t.right+window.pageXOffset-e.width:t.left+window.pageXOffset,this.el.classList.add("is-hidden"),this.el.style.top=i+"px",this.el.style.left=a+"px")},setStartDate:function(t,e){var s=u(t,u.ISO_8601),i=u(t,this._opts.format);if(!s.isValid()&&!i.isValid())return this._opts.startDate=null,void(this._opts.field.value="");this._opts.startDate=u(s.isValid()?s:i),this._opts.singleDate||this._opts.secondField?this._opts.field.value=this._opts.startDate.format(this._opts.format):this._opts.field.value=this._opts.startDate.format(this._opts.format)+this._opts.separator+"...",e||"function"!=typeof this._opts.onSelect||this._opts.onSelect.call(this,this.getStartDate(),this.getEndDate())},setEndDate:function(t,e){var s=u(t,u.ISO_8601),i=u(t,this._opts.format);if(!s.isValid()&&!i.isValid())return this._opts.endDate=null,void(this._opts.secondField?this._opts.secondField.value="":!this._opts.singleDate&&this._opts.startDate&&(this._opts.field.value=this._opts.startDate.format(this._opts.format)+this._opts.separator+"..."));this._opts.endDate=u(s.isValid()?s:i),this._opts.secondField?(this._opts.field.value=this._opts.startDate.format(this._opts.format),this._opts.secondField.value=this._opts.endDate.format(this._opts.format)):this._opts.field.value=this._opts.startDate.format(this._opts.format)+this._opts.separator+this._opts.endDate.format(this._opts.format),e||"function"!=typeof this._opts.onSelect||this._opts.onSelect.call(this,this.getStartDate(),this.getEndDate())},setDate:function(t){this._opts.singleDate&&this.setStartDate(t,!0)},setDateRange:function(t,e,s){this._opts.singleDate||(this.setStartDate(t,!0),this.setEndDate(e,!0),this.isShowing&&l(this.el,this._opts),s||"function"!=typeof this._opts.onSelect||this._opts.onSelect.call(this,this.getStartDate(),this.getEndDate()))},setDisableDates:function(t){this._opts.disableDates=t,this.isShowing&&l(this.el,this._opts)},getStartDate:function(){return u(this._opts.startDate).isValid()?this._opts.startDate:null},getEndDate:function(){return u(this._opts.endDate).isValid()?this._opts.endDate:null},getDate:function(){return u(this._opts.startDate).isValid()?this._opts.startDate:null},toString:function(t){return this._opts.singleDate?u(this._opts.startDate).isValid()?this._opts.startDate.format(t):"":u(this._opts.startDate).isValid()&&u(this._opts.endDate).isValid()?this._opts.startDate.format(t)+this._opts.separator+this._opts.endDate.format(t):u(this._opts.startDate).isValid()&&!u(this._opts.endDate).isValid()?this._opts.startDate.format(t)+this._opts.separator+"...":!u(this._opts.startDate).isValid()&&u(this._opts.endDate).isValid()?"..."+this._opts.separator+this._opts.endDate.format(t):""},show:function(t){this.isShowing||(this.isShowing=!0,this._opts.repick&&(this._opts.repickTrigger=t),this.syncFields(),this._opts.secondField&&this._opts.secondField===t&&this._opts.endDate?this.gotoDate(this._opts.endDate):this.gotoDate(this._opts.startDate),D.addEventListener("click",this._onClick),this.updatePosition(),this.el.classList.remove("is-hidden"),"function"==typeof this._opts.onOpen&&this._opts.onOpen.call(this),D.activeElement&&D.activeElement!=D.body&&D.activeElement.blur())},hide:function(){this.isShowing&&(this.isShowing=!1,D.removeEventListener("click",this._onClick),this.el.classList.add("is-hidden"),this.el.querySelector(".lightpick__tooltip").style.visibility="hidden","function"==typeof this._opts.onClose&&this._opts.onClose.call(this))},destroy:function(){var t=this._opts;this.hide(),this.el.removeEventListener("mousedown",self._onMouseDown,!0),this.el.removeEventListener("mouseenter",self._onMouseEnter,!0),this.el.removeEventListener("change",self._onChange,!0),t.field.removeEventListener("change",this._onInputChange),t.field.removeEventListener("click",this._onInputClick),t.field.removeEventListener("focus",this._onInputFocus),t.secondField&&(t.secondField.removeEventListener("change",this._onInputChange),t.secondField.removeEventListener("click",this._onInputClick),t.secondField.removeEventListener("focus",this._onInputFocus)),this.el.parentNode&&this.el.parentNode.removeChild(this.el)},reset:function(){this.setStartDate(null,!0),this.setEndDate(null,!0),l(this.el,this._opts),"function"==typeof this._opts.onSelect&&this._opts.onSelect.call(this,this.getStartDate(),this.getEndDate()),this.el.querySelector(".lightpick__tooltip").style.visibility="hidden"},reloadOptions:function(t){this._opts=Object.assign({},this._opts,t)}},t});