$map-color: (
  grey: (
    basic: #afb3bc,
    1: #afb3bc,
    2: #e0e4eb,
    3: #eaeff3,
    4: #f7f8fa,
  ),
  base: #121f3e,
  base-2: #707c93,
  white: #ffffff,
  red: #ff3d4e,
  blue: #3f3bec,
  orange: #ff7544,
  yellow: #3f3bec,
  teal: #0e5c22,
  green: #2ed573,
  purple: #4527a0,
);

$map-color-level: (
  primary: map-get($map-color, blue),
  cancel: map-deep-get($map-color, grey, 4),
  secondary: map-get($map-color, green),
  tertiary: map-deep-get($map-color, grey, 3),
  success: map-get($map-color, green),
  false: map-get($map-color, red),
);
$bg-line-border-thick: 1px;
$bg-op-opacity: 0.2;
$color-primary: map-get($map-color-level, primary);
$link-color: map-get($map-color-level, primary);
$color-grey: map-deep-get($map-color, grey, basic);
$color-grey-1: map-deep-get($map-color, grey, 1);
$color-grey-2: map-deep-get($map-color, grey, 2);
$color-grey-3: map-deep-get($map-color, grey, 3);
$color-grey-4: map-deep-get($map-color, grey, 4);
$color-base: map-get($map-color, base);
$border-base-color: $color-grey-2;
$color-white: white;
$color-black: map-get($map-color, base);

$map-bg-op-color-modify: (
  yellow: $color-base,
  tertiary: $color-base,
  cancel: $color-base,
);

$map-bg-color-modify: (
  yellow: $color-base,
  tertiary: $color-base,
  cancel: $color-base,
);

@mixin modifiers-bg-op-color($map, $prefix: "-", $separator: "-", $base: "basic") {
  @each $key, $value in $map {
    &#{if($key != $base, #{$prefix}#{$key}, '')} {
      @if type-of($value) == "map" {
        @include modifiers-bg-op-color($value, $separator);
      } @else {
        background-color: rgba($color: $value, $alpha: $bg-op-opacity);
        &.bg-shadow {
          box-shadow: 0px 5px 30px 0 rgba($value, 0.3);
        }
        .legitRipple-ripple {
          background: lighten($value, 34%);
        }
        @if map-has-key($map-bg-op-color-modify, $key) {
          color: map-get($map-bg-op-color-modify, $key);
        } @else {
          color: $value;
        }
      }
    }
  }
}

@mixin modifiers-bg-color($map, $prefix: "-", $separator: "-", $base: "basic") {
  @each $key, $value in $map {
    &#{if($key != $base, #{$prefix}#{$key}, '')} {
      @if type-of($value) == "map" {
        @include modifiers-bg-color($value, $separator);
      } @else {
        background-color: $value;
        .legitRipple-ripple {
          background: lighten($value, 14%);
        }
        &.bg-shadow {
          box-shadow: 0px 5px 30px 0 rgba($value, 0.3);
        }
        @if map-has-key($map-bg-color-modify, $key) {
          & .ubtn-inner {
            color: map-get($map-bg-color-modify, $key);
          }
          color: map-get($map-bg-color-modify, $key);
        } @else {
          & .ubtn-inner {
            color: white;
          }
          color: white;
        }
      }
    }
  }
}

@mixin modifiers-bg-line($map, $prefix: "-", $separator: "-", $base: "basic") {
  @each $key, $value in $map {
    &#{if($key != $base, #{$prefix}#{$key}, '')} {
      @if type-of($value) == "map" {
        @include modifiers-bg-line($value);
      } @else {
        border: $bg-line-border-thick solid $value !important;
        box-shadow: none;
        background: transparent;
        > * {
          color: $value;
        }
        .legitRipple-ripple {
          background: lighten($value, 42%);
        }
      }
    }
  }
}

.ripple .legitRipple-ripple,
.ripple-100 .legitRipple-ripple {
  background-color: $ripple-default-color;
}

.color {
  @include modifiers($map-color, "color");
  @include modifiers($map-color-level, "color");
  &-blank {
    color: transparent;
  }
}

.ubg {
  @include modifiers-bg-color($map-color);
  @include modifiers-bg-color($map-color-level);
  &-op {
    @include modifiers-bg-op-color($map-color);
    @include modifiers-bg-op-color($map-color-level);
  }
  &-blank {
    background: transparent;
  }
  &-line {
    @include modifiers-bg-line($map-color);
    @include modifiers-bg-line($map-color-level);
  }
}

.ubg-transparent {
  background-color: transparent;
}

