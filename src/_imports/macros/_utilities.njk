{% import "macros/forms/_forms.njk" as form %}
{% import "macros/forms/_buttons.njk" as button %}
{% import "macros/forms/_rnc.njk" as rnc %}
{% import "macros/forms/_files-upload.njk" as file %}

{% macro eye() %}
  <!-- utl.eye -->
  <div class="eye-wrap">
    <label class="eye">
      <input type="checkbox" class="hidden">
      <div class="eye-slash"></div>
    </label>
  </div>
  <!-- end utl.eye -->
{% endmacro %}

{% macro pagination(justify = 'center') %}
  <!-- utl.pagination -->
  <div class="pagination justify-content-{{ justify }}">
    <div class="ripple pagination-item pagination-first legitRipple">Đầu</div>
    <div class="ripple pagination-item pagination-back legitRipple"></div>
    <div class="ripple pagination-item pagination-number legitRipple">1</div>
    <div class="ripple pagination-item pagination-number legitRipple">2</div>
    <div class="ripple pagination-item pagination-number pagination-active legitRipple">3</div>
    <div class="pagination-item pagination-dots">...</div>
    <div class="ripple pagination-item pagination-number legitRipple">102</div>
    <div class="ripple pagination-item pagination-next legitRipple"></div>
    <div class="ripple pagination-item pagination-last legitRipple">Cuối</div>
  </div>
  <!-- utl.pagination -->
{% endmacro %}

{% macro tableUlt(value) %}
  <!-- utl.table -->
  <div class="row row-5 flex-nowrap">
    {% if 'info' in value %}
      <div class="col-auto">
        {{ button.btn(icon = '/dist/media/icons/svg2/info.svg', size = 'xs-2', shape = 'square', icSize = 'sm', color = 'grey-4', modal = '#modalInfo', type = 'a', tooltip = 'Info') }}
      </div>
    {% endif %}
    {% if 'edit' in value %}
      <div class="col-auto">
        {{ button.btn(icon = '/dist/media/icons/svg2/edit.svg', size = 'xs-2', shape = 'square', icSize = 'sm', color = 'grey-4', modal = '#modalEdit', type = 'a', tooltip = 'Edit') }}
      </div>
    {% endif %}
    {% if 'trash' in value %}
      <div class="col-auto">
        {{ button.btn(icon = '/dist/media/icons/svg2/trash.svg', size = 'xs-2', shape = 'square', icSize = 'sm', color = 'grey-4', modal = '#modalTrash', type = 'a', tooltip = 'Delete') }}
      </div>
    {% endif %}
    {% if 'lock' in value %}
      <div class="col-auto">
        {{ button.btn(icon = '/dist/media/icons/svg2/lock.svg', size = 'xs-2', shape = 'square', icSize = 'sm', color = 'grey-4', modal = '#modalLock', type = 'a', tooltip = 'Lock') }}
      </div>
    {% endif %}
    {% if 'unlock' in value %}
      <div class="col-auto">
        {{ button.btn(icon = '/dist/media/icons/svg2/unlock.svg', size = 'xs-2', shape = 'square', icSize = 'sm', color = 'grey-4', modal = '#modalUnlock', type = 'a', tooltip = 'Unlock') }}
      </div>
    {% endif %}
  </div>
  <!-- emd utl.table -->
{% endmacro %}c

{% macro tableRow(type, value, indexNum) %}
  <tr>
    {% if indexNum %}
      {% if type == 'th' %}
        <th>STT</th>
      {% else  %}
        <{{ type }}>{{indexNum}}</{{ type }}>
      {% endif %}
    {% endif %}
    {% for i in value %}
      {% if i == 'ults' %}
        {% set addAttr = 'width="100"' %}
      {% endif %}
      <{{ type }} {{ addAttr | safe }}>
        {{ i | safe }}
      </{{ type }}>
    {% endfor %}
  </tr>
{% endmacro %}

{% macro table(value, index = 'true') %}
  <!-- utl.table -->
  <table class="table table-simple">
    {% if value.thead %}
      <thead>
        {% for item in value.thead %}
          {{ tableRow('th', value = item, indexNum = loop.index) }}
        {% endfor %}
      </thead>
    {% endif %}

    {% if value.tbody %}
      <tbody>
        {% for item in value.tbody %}
          {{ tableRow('td', value = item, indexNum = loop.index) }}
        {% endfor %}
      </tbody>
    {% endif %}

    {% if value.tfoot %}
      <tfoot>
        {% for item in value.tfoot %}
          {{ tableRow('td', value = item, indexNum = loop.index) }}
        {% endfor %}
      </tfoot>
    {% endif %}

  </table>
  <!-- emd utl.table -->
{% endmacro %}