{% set pageLink = pageLink | default('') %}
{% set menuVal = [
  {
    type: 'title',
    txt: 'Introduction'
  },
  {
    ic: 'plannet.svg',
    txt: 'Landing page (comming soon)',
    link: ''
  },
  {
    ic: 'plannet.svg',
    txt: 'Initialization',
    link: 'index.html'
  },
  {
    type: 'title',
    txt: 'Forms'
  },
  {
    ic: 'plannet.svg',
    txt: 'Clean | Border | Line',
    link: '1-1-forms-clean-border.html'
  },
  {
    ic: 'plannet.svg',
    txt: 'Material 1,2,3',
    link: '1-2-forms-line-material.html'
  },
  {
    ic: 'plannet.svg',
    txt: 'Range (Comming soon)',
    link: '1-3-forms-upload.html'
  },
  {
    ic: 'plannet.svg',
    txt: 'Form Parsley',
    link: '1-5-forms-parsley.html'
  },
  {
    ic: 'plannet.svg',
    txt: 'Textarea',
    link: '1-6-textarea.html'
  },
  {
    ic: 'plannet.svg',
    txt: 'Formgroup item',
    link: '1-7-forms-group-mix.html'
  },
  {
    type: 'title',
    txt: 'Tables'
  },
  {
    ic: 'plannet.svg',
    txt: 'Pagination',
    link: '2-1-tables-page.html'
  },
  {
    ic: 'plannet.svg',
    txt: 'Tables | Datatables',
    link: '2-2-table.html'
  },
  {
    type: 'title',
    txt: 'Modals'
  },
  {
    ic: 'plannet.svg',
    txt: 'Bootstrap Modals',
    link: '3-1-modals-bootstrap.html'
  },
  {
    type: 'title',
    txt: 'Dropdowns'
  },
  {
    ic: 'plannet.svg',
    txt: 'Bootstrap Dropdowns',
    link: '4-1-dropdowns-bootstrap.html'
  },
  {
    type: 'title',
    txt: 'Tabs'
  },
  {
    ic: 'plannet.svg',
    txt: 'Material tabs',
    link: '5-1-tabs.html'
  },
  {
    type: 'title',
    txt: 'Accordion'
  },
  {
    ic: 'plannet.svg',
    txt: 'Jquery Accordion',
    link: '6-1-accordion-jquery.html'
  },
  {
    type: 'title',
    txt: 'Carousels'
  },
  {
    ic: 'plannet.svg',
    txt: 'Swiper',
    link: '7-1-carousel-swiper.html'
  },
  {
    type: 'title',
    txt: 'Images slider'
  },
  {
    ic: 'plannet.svg',
    txt: 'Light gallery',
    link: '8-1-light-gallery.html'
  },
  {
    type: 'title',
    txt: 'Others'
  },
  {
    ic: 'plannet.svg',
    txt: 'Sticky sidebar',
    link: '9-1-sticky-sidebar.html'
  },
  {
    ic: 'plannet.svg',
    txt: 'Pallarax',
    link: '10-1-pallarax.html'
  },
  {
    ic: 'plannet.svg',
    txt: 'Elelment components',
    link: '11-1-profiles.html'
  },
  {
    ic: 'plannet.svg',
    txt: 'Lists',
    link: '11-2-lists.html'
  },
  {
    ic: 'plannet.svg',
    txt: 'Cards',
    link: '11-3-cards.html'
  },
  {
    ic: 'plannet.svg',
    txt: 'Tags',
    link: '11-4-tags.html'
  },
  {
    ic: 'plannet.svg',
    txt: 'Icons',
    link: '11-5-icons.html'
  },
  {
    ic: 'plannet.svg',
    txt: 'Social icons',
    link: '11-6-social.html'
  },
  {
    ic: 'plannet.svg',
    txt: 'Box',
    link: '11-7-box.html'
  },
  {
    ic: 'plannet.svg',
    txt: 'Steps',
    link: '11-8-steps.html'
  },
  {
    type: 'title',
    txt: 'Layout'
  },
  {
    ic: 'plannet.svg',
    txt: 'Footer',
    link: '12-1-footer.html'
  },
  {
    ic: 'plannet.svg',
    txt: 'Menu Test Sub',
    sub: [
      {
        txt: 'Menu sub 1',
        link: '',
        sub: [
          {
            txt: 'Menu sub 1 - 1',
            link: ''
          },
          {
            txt: 'Menu sub 1 - 2',
            link: ''
          }
        ]
      }, {
        txt: 'Menu sub 2',
        link: ''
      }
    ]
  }
]%}

{% macro pageTitle(titleVal) %}
  {% if not titleVal.sub %}
    {% if (titleVal.link in pageLink) and (titleVal.link | length) %}
      {{ titleVal.txt }}
    {% endif %}
  {% endif %}
{% endmacro %}

{% macro pageTitleLoop(titleVal) %}
  {% for item in titleVal %}
    {% if not item.sub %}
      {{ pageTitle(item) }}
    {% else %}
      {{ pageTitleLoop(item.sub) }}
    {% endif %}
  {% endfor %}
{% endmacro %}

{% macro sidebarItem(itemVal) %}
  {% if not itemVal.sub %}
    {% set activeTxt = '' %}
    {% if (itemVal.link in pageLink) and (itemVal.link | length) %}
      {% set activeTxt = 'active' %}
    {% endif %}
    {% if itemVal.type == 'title' %}
      <div class="sidebar__title">{{ itemVal.txt }}</div>
    {% else %}
      <div class="sidebar__list {{ activeTxt }}">
        <a class="sidebar__item" href="page/{{ itemVal.link }}">
          {% if itemVal.ic %}
            <div class="ic">
              {% if (itemVal.link in pageLink) and (itemVal.link | length) %}
                <img src="/dist/media/icons/svg/primary/{{ itemVal.ic }}" alt="">
              {% else %}
                <img src="/dist/media/icons/svg/dark/{{ itemVal.ic }}" alt="">
              {% endif %}
            </div>
          {% else %}
            <div class="ic ic-blank"></div>
          {% endif %}
          <div class="txt">{{ itemVal.txt }}</div>
        </a>
      </div>
    {% endif %}
  {% endif %}
{% endmacro %}

{% macro sidebarLoop(itemVal) %}
  {% for item in itemVal %}
    {% if not item.sub %}
      {{ sidebarItem(item) }}
    {% else %}
      <div class="sidebar__list" data-accordion="data-accordion">
        <div class="sidebar__item" data-control="data-control">
          {% if item.ic %}
            <div class="ic"><img src="/dist/media/icons/svg/dark/{{ item.ic }}" alt=""></div>
          {% else %}
            <div class="ic ic-blank"></div>
          {% endif %}
          <div class="txt">{{ item.txt }}</div>
          <div class="ic-arrow"></div>
        </div>
        <div data-content="data-content" class="sidebar__sub">
          <div class="sidebar__sub__wrap">
            {{ sidebarLoop(item.sub) }}
          </div>
        </div>
      </div>
    {% endif %}
  {% endfor %}
{% endmacro %}
<input type="checkbox" id="sidebar-trigger" class="hidden">
<label for="sidebar-trigger" class="sidebar-overlay"></label>
<div class="sidebar-top">
  <label class="ripple-100 sidebar-top__trigger legitRipple" for="sidebar-trigger">
    <img width="20" src="media/icons/svg/dark/burger.svg" alt="">
  </label>
  <div class="sidebar-top__logo">
    <img src="media/brands/logo.svg" alt="">
  </div>
</div>
<div class="sidebar isolated-scroll" data-accordion-group="data-accordion-group">
  <div class="sidebar__head">
    <table class="table">
      <tr>
        <td class="sidebar__ic">
          <div class="sidebar__head__ic">
            <label class="ripple-100" for="sidebar-trigger">
              <img width="20" src="media/icons/svg/dark/burger.svg" alt="">
            </label>
          </div>
        </td>
        <td>
          <img src="media/brands/logo.svg" alt="">
        </td>
      </tr>
    </table>
  </div>
  {{ sidebarLoop(menuVal) }}
</div>

{% set pageTitleTxt = pageTitleLoop(menuVal) %}
{% set pageTitleTxt %}
{{ pageTitleTxt }} Ã¡dfasdf
{% endset %}